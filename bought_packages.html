<!DOCTYPE html>
<html>
<head>
  <title>Bought Packages</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
    async function loadPackages() {
      const res = await fetch('/get_packages');
      if (!res.ok) return window.location = '/';
      const packages = await res.json();

      const container = document.getElementById('packages');
      if (packages.length === 0) {
        container.innerHTML = "<p>No packages yet</p>";
      } else {
        packages.forEach(p => {
          const div = document.createElement('div');
          div.textContent = p;
          container.appendChild(div);
        });
      }
    }

    function logout() {
      window.location = "/logout";
    }

    window.onload = loadPackages;
  </script>
</head>
<body>
  <nav>
    <a href="/dashboard.html">Dashboard</a> |
    <a href="/bought_packages.html">Bought Packages</a> |
    <a href="/contact.html">Contact</a> |
    <button onclick="logout()">Logout</button>
  </nav>

  <h2>Your Bought Packages</h2>
  <div id="packages" style="margin-top:20px;"></div>
</body>
</html>
